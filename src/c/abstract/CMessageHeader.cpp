#include <MailCore/MCCore.h>
#include "CMessageHeader.h"
#include "CBase+Private.h"

#define nativeType mailcore::MessageHeader
#define structName CMessageHeader

C_SYNTHESIZE_STRING(setMessageID, messageID);
C_SYNTHESIZE_STRING(setUserAgent, userAgent);
C_SYNTHESIZE_STRING(setSubject, subject);
C_SYNTHESIZE_ARRAY(setReferences, references);
C_SYNTHESIZE_ARRAY(setInReplyTo, inReplyTo);
C_SYNTHESIZE_ARRAY(setTo, to);
C_SYNTHESIZE_ARRAY(setCc, cc);
C_SYNTHESIZE_ARRAY(setBcc, bcc);
C_SYNTHESIZE_ARRAY(setReplyTo, replyTo);

CMessageHeader CMessageHeader_new(mailcore::MessageHeader *header){
    CMessageHeader self;
    self.instance = header;
    self.instance->retain();
    return self;
}

CMessageHeader CMessageHeader_new(){
    return CMessageHeader_new(new mailcore::MessageHeader());
}

void CMessageHeader_release(CMessageHeader self){
    self.instance->release();
}

bool CMessageHeader_isMessageIDAutoGenerated(struct CMessageHeader self){
    return self.instance->isMessageIDAutoGenerated();
}

void CMessageHeader_setExtraHeaderValue(struct CMessageHeader self, const UChar* value, const UChar* name){
    self.instance->setExtraHeader(mailcore::String::stringWithCharacters(name), mailcore::String::stringWithCharacters(value));
}

const UChar* CMessageHeader_extraHeaderValueForName(struct CMessageHeader self, const UChar* name){
    return self.instance->extraHeaderValueForName(mailcore::String::stringWithCharacters(name))->unicodeCharacters();
}

void CMessageHeader_removeExtraHeaderForName(struct CMessageHeader self, const UChar* name){
    self.instance->removeExtraHeader(mailcore::String::stringWithCharacters(name));
}

CArray CMessageHeader_allExtraHeadersNames(struct CMessageHeader self){
    return CArray_new(self.instance->allExtraHeadersNames());
}

const UChar* CMessageHeader_extractedSubject(struct CMessageHeader self){
    return self.instance->extractedSubject()->unicodeCharacters();
}

const UChar* CMessageHeader_partialExtractedSubject(struct CMessageHeader self){
    return self.instance->partialExtractedSubject()->unicodeCharacters();
}

void CMessageHeader_importHeadersData(struct CMessageHeader self, const char *bytes, unsigned int length){
    self.instance->importHeadersData(mailcore::Data::dataWithBytes(bytes, length));
}

CMessageHeader CMessageHeader_replyHeaderWithExcludedRecipients(struct CMessageHeader self, CArray /* MCOAddress */excludedRecipients){
    return CMessageHeader_new(self.instance->replyHeader(false, excludedRecipients.instance));
}

struct CMessageHeader CMessageHeader_replyAllHeaderWithExcludedRecipients(struct CMessageHeader self, CArray /* MCOAddress */excludedRecipients){
    return CMessageHeader_new(self.instance->replyHeader(true, excludedRecipients.instance));
}

struct CMessageHeader CMessageHeader_forwardHeader(struct CMessageHeader self){
    return CMessageHeader_new(self.instance->forwardHeader());
}











